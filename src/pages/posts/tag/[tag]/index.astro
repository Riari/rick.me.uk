---
import { loadAndFormatCollection, getTags } from "../../../../scripts/utils/collection";

export async function getStaticPaths() {
    const posts = await loadAndFormatCollection("posts");
    const tags = await getTags(posts);

    return tags.map((tag) => {
        return {
            params: { tag },
        };
    });
}

const { tag } = Astro.params;

return Astro.redirect(`/posts/tag/${tag}/1`);
---
